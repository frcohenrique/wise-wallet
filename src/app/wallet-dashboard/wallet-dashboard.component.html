<mat-card class="card-container">
  <mat-card-header class="title-wrapper">
    <mat-card-title>Finanças</mat-card-title>
  </mat-card-header>
  <mat-card-content class="monetary-info-container">
    <div class="monetary-info">
      <h2>Renda Mensal</h2>
      <p class="salary">
        {{ personalFinances?.salary / 100 | currency : "BRL" }}
      </p>
    </div>
    <div class="monetary-info">
      <h2>Economia Mensal</h2>
      <p class="salary">
        {{ personalFinances?.savings / 100 | currency : "BRL" }}
      </p>
    </div>
  </mat-card-content>
  <mat-card-content>
    <section class="table-container mat-elevation-z8" tabindex="0">
      <ng-container *ngIf="personalFinances?.expenses.length > 0">
        <table mat-table [dataSource]="personalFinances.expenses">
          <ng-container matColumnDef="item">
            <th mat-header-cell *matHeaderCellDef>Item</th>
            <td mat-cell *matCellDef="let element">
              {{ element.expense_name }}
            </td>
          </ng-container>

          <ng-container matColumnDef="quantity">
            <th mat-header-cell *matHeaderCellDef>Quantia</th>
            <td mat-cell *matCellDef="let element">
              {{ element.expense_cost / 100 | currency : "BRL" }}
            </td>
          </ng-container>

          <ng-container matColumnDef="remove">
            <th mat-header-cell *matHeaderCellDef>Remover</th>
            <td mat-cell *matCellDef="let element; let i = dataIndex">
              <button
                class="btn-delete"
                mat-fab
                color="warn"
                (click)="removeItem(element)"
              >
                <mat-icon>delete</mat-icon>
              </button>
            </td>
          </ng-container>

          <tr
            mat-header-row
            *matHeaderRowDef="displayedColumns; sticky: true"
          ></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </ng-container>
      <div class="creation-container">
        <app-wallet-dashboard-create-item
          (formItemCreate)="onFormItemCreate($event)"
        ></app-wallet-dashboard-create-item>
      </div>
    </section>
  </mat-card-content>
  <mat-card-actions class="actions-wrapper">
    <button mat-stroked-button color="primary" class="btn-grow">
      Salvar alterações
    </button>
    <button mat-stroked-button color="primary" class="btn-grow">
      Descartar
    </button>
  </mat-card-actions>
</mat-card>
